{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar CircularBuffer = function () {\n  function CircularBuffer(size) {\n    _classCallCheck(this, CircularBuffer);\n\n    _defineProperty(this, \"bufferSize\", void 0);\n\n    _defineProperty(this, \"buffer\", void 0);\n\n    _defineProperty(this, \"index\", void 0);\n\n    _defineProperty(this, \"actualSize\", void 0);\n\n    this.bufferSize = size;\n    this.buffer = new Array(size);\n    this.index = 0;\n    this.actualSize = 0;\n  }\n\n  _createClass(CircularBuffer, [{\n    key: \"size\",\n    get: function get() {\n      return this.actualSize;\n    }\n  }, {\n    key: \"push\",\n    value: function push(element) {\n      this.buffer[this.index] = element;\n      this.index = (this.index + 1) % this.bufferSize;\n      this.actualSize = Math.min(this.actualSize + 1, this.bufferSize);\n    }\n  }, {\n    key: \"get\",\n    value: function get(at) {\n      if (this.actualSize === this.bufferSize) {\n        var index = (this.index + at) % this.bufferSize;\n\n        if (index < 0) {\n          index += this.bufferSize;\n        }\n\n        return this.buffer[index];\n      } else {\n        return this.buffer[at];\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.buffer = new Array(this.bufferSize);\n      this.index = 0;\n      this.actualSize = 0;\n    }\n  }]);\n\n  return CircularBuffer;\n}();\n\nexport { CircularBuffer as default };","map":{"version":3,"sources":["CircularBuffer.ts"],"names":["constructor","size","push","Math","get","index","clear"],"mappings":";;;;;;;;;;;;;;;;;;IAAe,c;EAMbA,wBAAW,IAAXA,EAA0B;IAAA;;IAAA,eAAA,CAAA,IAAA,EAAA,YAAA,EAAA,KAAA,CAAA,CAAA;;IAAA,eAAA,CAAA,IAAA,EAAA,QAAA,EAAA,KAAA,CAAA,CAAA;;IAAA,eAAA,CAAA,IAAA,EAAA,OAAA,EAAA,KAAA,CAAA,CAAA;;IAAA,eAAA,CAAA,IAAA,EAAA,YAAA,EAAA,KAAA,CAAA,CAAA;;IACxB,KAAA,UAAA,GAAA,IAAA;IACA,KAAA,MAAA,GAAc,IAAA,KAAA,CAAd,IAAc,CAAd;IACA,KAAA,KAAA,GAAA,CAAA;IACA,KAAA,UAAA,GAAA,CAAA;EACD;;;;SAEUC,eAAe;MACxB,OAAO,KAAP,UAAA;IACD;;;WAEMC,cAAI,OAAJA,EAAuB;MAC5B,KAAA,MAAA,CAAY,KAAZ,KAAA,IAAA,OAAA;MACA,KAAA,KAAA,GAAa,CAAC,KAAA,KAAA,GAAD,CAAA,IAAmB,KAAhC,UAAA;MACA,KAAA,UAAA,GAAkBC,IAAI,CAAJA,GAAAA,CAAS,KAAA,UAAA,GAATA,CAAAA,EAA8B,KAAhD,UAAkBA,CAAlB;IACD;;;WAEMC,aAAG,EAAHA,EAAmB;MACxB,IAAI,KAAA,UAAA,KAAoB,KAAxB,UAAA,EAAyC;QACvC,IAAIC,KAAK,GAAG,CAAC,KAAA,KAAA,GAAD,EAAA,IAAoB,KAAhC,UAAA;;QACA,IAAIA,KAAK,GAAT,CAAA,EAAe;UACbA,KAAK,IAAI,KAATA,UAAAA;QACD;;QAED,OAAO,KAAA,MAAA,CAAP,KAAO,CAAP;MANF,CAAA,MAOO;QACL,OAAO,KAAA,MAAA,CAAP,EAAO,CAAP;MACD;IACF;;;WAEMC,iBAAc;MACnB,KAAA,MAAA,GAAc,IAAA,KAAA,CAAa,KAA3B,UAAc,CAAd;MACA,KAAA,KAAA,GAAA,CAAA;MACA,KAAA,UAAA,GAAA,CAAA;IACD;;;;;;SAxCY,c","sourcesContent":["export default class CircularBuffer<T> {\n  private bufferSize: number;\n  private buffer: T[];\n  private index: number;\n  private actualSize: number;\n\n  constructor(size: number) {\n    this.bufferSize = size;\n    this.buffer = new Array<T>(size);\n    this.index = 0;\n    this.actualSize = 0;\n  }\n\n  public get size(): number {\n    return this.actualSize;\n  }\n\n  public push(element: T): void {\n    this.buffer[this.index] = element;\n    this.index = (this.index + 1) % this.bufferSize;\n    this.actualSize = Math.min(this.actualSize + 1, this.bufferSize);\n  }\n\n  public get(at: number): T {\n    if (this.actualSize === this.bufferSize) {\n      let index = (this.index + at) % this.bufferSize;\n      if (index < 0) {\n        index += this.bufferSize;\n      }\n\n      return this.buffer[index];\n    } else {\n      return this.buffer[at];\n    }\n  }\n\n  public clear(): void {\n    this.buffer = new Array<T>(this.bufferSize);\n    this.index = 0;\n    this.actualSize = 0;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}