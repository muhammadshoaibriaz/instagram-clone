{"ast":null,"code":"import { isColor, convertToRGBA, rgbaArrayToRGBAColor, toGammaSpace, toLinearSpace } from \"../Colors\";\nimport NativeReanimatedModule from \"../NativeReanimated\";\nvar IN_STYLE_UPDATER = false;\nexport function initialUpdaterRun(updater) {\n  IN_STYLE_UPDATER = true;\n  var result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\nvar _worklet_14452725944424_init_data = {\n  code: \"function recognizePrefixSuffix(value) {\\n  if (typeof value === 'string') {\\n    var _match$;\\n    const match = value.match(/([A-Za-z]*)(-?\\\\d*\\\\.?\\\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);\\n    if (!match) {\\n      throw Error(\\\"Couldn't parse animation value. Check if there isn't any typo.\\\");\\n    }\\n    const prefix = match[1];\\n    const suffix = match[4];\\n    const number = match[2] + ((_match$ = match[3]) !== null && _match$ !== void 0 ? _match$ : '');\\n    return {\\n      prefix: prefix,\\n      suffix: suffix,\\n      strippedValue: parseFloat(number)\\n    };\\n  } else {\\n    return {\\n      strippedValue: value\\n    };\\n  }\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"recognizePrefixSuffix\\\",\\\"value\\\",\\\"_match$\\\",\\\"match\\\",\\\"Error\\\",\\\"prefix\\\",\\\"suffix\\\",\\\"number\\\",\\\"strippedValue\\\",\\\"parseFloat\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\\\"],\\\"mappings\\\":\\\"AAUA,SAAAA,qBAASA,CAAsBC,KAAA,EAAK;EAGlC,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAAA,IAAAC,OAAA;IAC7B,MAAMC,KAAK,GAAGF,KAAK,CAACE,KAAK,CAAC,wDAAwD,CAAC;IACnF,IAAI,CAACA,KAAK,EAAE;MACV,MAAMC,KAAK,CAAC,gEAAgE,CAAC;IAC/E;IACA,MAAMC,MAAM,GAAGF,KAAK,CAAC,CAAC,CAAC;IACvB,MAAMG,MAAM,GAAGH,KAAK,CAAC,CAAC,CAAC;IAEvB,MAAMI,MAAM,GAAGJ,KAAK,CAAC,CAAC,CAAC,KAAAD,OAAA,GAAIC,KAAK,CAAC,CAAC,CAAC,cAAAD,OAAA,cAAAA,OAAA,GAAI,EAAE,CAAC;IAC1C,OAAO;MACLG,MAAM,EAANA,MAAM;MACNC,MAAM,EAANA,MAAM;MACNE,aAAa,EAAEC,UAAU,CAACF,MAAM;IAClC,CAAC;EACH,CAAC,MAAM;IACL,OAAO;MACLC,aAAa,EAAEP;IACjB,CAAC;EACH;AACF\\\"}\"\n};\n\nvar recognizePrefixSuffix = function () {\n  var _e = [new global.Error(), 1, -27];\n\n  var _f = function _f(value) {\n    if (typeof value === 'string') {\n      var _match$;\n\n      var match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);\n\n      if (!match) {\n        throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");\n      }\n\n      var prefix = match[1];\n      var suffix = match[4];\n      var number = match[2] + ((_match$ = match[3]) != null ? _match$ : '');\n      return {\n        prefix: prefix,\n        suffix: suffix,\n        strippedValue: parseFloat(number)\n      };\n    } else {\n      return {\n        strippedValue: value\n      };\n    }\n  };\n\n  _f._closure = {};\n  _f.__initData = _worklet_14452725944424_init_data;\n  _f.__workletHash = 14452725944424;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\n\nvar _worklet_7675676752948_init_data = {\n  code: \"function decorateAnimation(animation) {\\n  const {\\n    recognizePrefixSuffix,\\n    isColor,\\n    toLinearSpace,\\n    convertToRGBA,\\n    rgbaArrayToRGBAColor,\\n    toGammaSpace\\n  } = this._closure;\\n  if (animation.isHigherOrder) {\\n    return;\\n  }\\n  const baseOnStart = animation.onStart;\\n  const baseOnFrame = animation.onFrame;\\n  const animationCopy = Object.assign({}, animation);\\n  delete animationCopy.callback;\\n  const prefNumberSuffOnStart = function (animation, value, timestamp, previousAnimation) {\\n    var _animation$__prefix, _animation$__suffix;\\n    const {\\n      prefix: prefix,\\n      suffix: suffix,\\n      strippedValue: strippedValue\\n    } = recognizePrefixSuffix(value);\\n    animation.__prefix = prefix;\\n    animation.__suffix = suffix;\\n    animation.strippedCurrent = strippedValue;\\n    const {\\n      strippedValue: strippedToValue\\n    } = recognizePrefixSuffix(animation.toValue);\\n    animation.current = strippedValue;\\n    animation.startValue = strippedValue;\\n    animation.toValue = strippedToValue;\\n    if (previousAnimation && previousAnimation !== animation) {\\n      const {\\n        prefix: paPrefix,\\n        suffix: paSuffix,\\n        strippedValue: paStrippedValue\\n      } = recognizePrefixSuffix(previousAnimation.current);\\n      previousAnimation.current = paStrippedValue;\\n      previousAnimation.__prefix = paPrefix;\\n      previousAnimation.__suffix = paSuffix;\\n    }\\n    baseOnStart(animation, strippedValue, timestamp, previousAnimation);\\n    animation.current = ((_animation$__prefix = animation.__prefix) !== null && _animation$__prefix !== void 0 ? _animation$__prefix : '') + animation.current + ((_animation$__suffix = animation.__suffix) !== null && _animation$__suffix !== void 0 ? _animation$__suffix : '');\\n    if (previousAnimation && previousAnimation !== animation) {\\n      var _previousAnimation$__, _previousAnimation$__2;\\n      previousAnimation.current = ((_previousAnimation$__ = previousAnimation.__prefix) !== null && _previousAnimation$__ !== void 0 ? _previousAnimation$__ : '') + previousAnimation.current + ((_previousAnimation$__2 = previousAnimation.__suffix) !== null && _previousAnimation$__2 !== void 0 ? _previousAnimation$__2 : '');\\n    }\\n  };\\n  const prefNumberSuffOnFrame = function (animation, timestamp) {\\n    var _animation$__prefix2, _animation$__suffix2;\\n    animation.current = animation.strippedCurrent;\\n    const res = baseOnFrame(animation, timestamp);\\n    animation.strippedCurrent = animation.current;\\n    animation.current = ((_animation$__prefix2 = animation.__prefix) !== null && _animation$__prefix2 !== void 0 ? _animation$__prefix2 : '') + animation.current + ((_animation$__suffix2 = animation.__suffix) !== null && _animation$__suffix2 !== void 0 ? _animation$__suffix2 : '');\\n    return res;\\n  };\\n  const tab = ['R', 'G', 'B', 'A'];\\n  const colorOnStart = function (animation, value, timestamp, previousAnimation) {\\n    let RGBAValue;\\n    let RGBACurrent;\\n    let RGBAToValue;\\n    const res = [];\\n    if (isColor(value)) {\\n      RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\\n      RGBAValue = toLinearSpace(convertToRGBA(value));\\n      if (animation.toValue) {\\n        RGBAToValue = toLinearSpace(convertToRGBA(animation.toValue));\\n      }\\n    }\\n    tab.forEach(function (i, index) {\\n      animation[i] = Object.assign({}, animationCopy);\\n      animation[i].current = RGBACurrent[index];\\n      animation[i].toValue = RGBAToValue ? RGBAToValue[index] : undefined;\\n      animation[i].onStart(animation[i], RGBAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\\n      res.push(animation[i].current);\\n    });\\n    animation.current = rgbaArrayToRGBAColor(toGammaSpace(res));\\n  };\\n  const colorOnFrame = function (animation, timestamp) {\\n    const RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\\n    const res = [];\\n    let finished = true;\\n    tab.forEach(function (i, index) {\\n      animation[i].current = RGBACurrent[index];\\n      finished &= animation[i].onFrame(animation[i], timestamp);\\n      res.push(animation[i].current);\\n    });\\n    animation.current = rgbaArrayToRGBAColor(toGammaSpace(res));\\n    return finished;\\n  };\\n  const arrayOnStart = function (animation, value, timestamp, previousAnimation) {\\n    value.forEach(function (v, i) {\\n      animation[i] = Object.assign({}, animationCopy);\\n      animation[i].current = v;\\n      animation[i].toValue = animation.toValue[i];\\n      animation[i].onStart(animation[i], v, timestamp, previousAnimation ? previousAnimation[i] : undefined);\\n    });\\n    animation.current = value;\\n  };\\n  const arrayOnFrame = function (animation, timestamp) {\\n    let finished = true;\\n    animation.current.forEach(function (v, i) {\\n      finished &= animation[i].onFrame(animation[i], timestamp);\\n      animation.current[i] = animation[i].current;\\n    });\\n    return finished;\\n  };\\n  const objectOnStart = function (animation, value, timestamp, previousAnimation) {\\n    for (const key in value) {\\n      animation[key] = Object.assign({}, animationCopy);\\n      animation[key].onStart = animation.onStart;\\n      animation[key].current = value[key];\\n      animation[key].toValue = animation.toValue[key];\\n      animation[key].onStart(animation[key], value[key], timestamp, previousAnimation ? previousAnimation[key] : undefined);\\n    }\\n    animation.current = value;\\n  };\\n  const objectOnFrame = function (animation, timestamp) {\\n    let finished = true;\\n    const newObject = {};\\n    for (const key in animation.current) {\\n      finished &= animation[key].onFrame(animation[key], timestamp);\\n      newObject[key] = animation[key].current;\\n    }\\n    animation.current = newObject;\\n    return finished;\\n  };\\n  animation.onStart = function (animation, value, timestamp, previousAnimation) {\\n    if (isColor(value)) {\\n      colorOnStart(animation, value, timestamp, previousAnimation);\\n      animation.onFrame = colorOnFrame;\\n      return;\\n    } else if (Array.isArray(value)) {\\n      arrayOnStart(animation, value, timestamp, previousAnimation);\\n      animation.onFrame = arrayOnFrame;\\n      return;\\n    } else if (typeof value === 'string') {\\n      prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\\n      animation.onFrame = prefNumberSuffOnFrame;\\n      return;\\n    } else if (typeof value === 'object' && value !== null) {\\n      objectOnStart(animation, value, timestamp, previousAnimation);\\n      animation.onFrame = objectOnFrame;\\n      return;\\n    }\\n    baseOnStart(animation, value, timestamp, previousAnimation);\\n  };\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"decorateAnimation\\\",\\\"animation\\\",\\\"recognizePrefixSuffix\\\",\\\"isColor\\\",\\\"toLinearSpace\\\",\\\"convertToRGBA\\\",\\\"rgbaArrayToRGBAColor\\\",\\\"toGammaSpace\\\",\\\"_closure\\\",\\\"isHigherOrder\\\",\\\"baseOnStart\\\",\\\"onStart\\\",\\\"baseOnFrame\\\",\\\"onFrame\\\",\\\"animationCopy\\\",\\\"Object\\\",\\\"assign\\\",\\\"callback\\\",\\\"prefNumberSuffOnStart\\\",\\\"value\\\",\\\"timestamp\\\",\\\"previousAnimation\\\",\\\"_animation$__prefix\\\",\\\"_animation$__suffix\\\",\\\"prefix\\\",\\\"suffix\\\",\\\"strippedValue\\\",\\\"__prefix\\\",\\\"__suffix\\\",\\\"strippedCurrent\\\",\\\"strippedToValue\\\",\\\"toValue\\\",\\\"current\\\",\\\"startValue\\\",\\\"paPrefix\\\",\\\"paSuffix\\\",\\\"paStrippedValue\\\",\\\"_previousAnimation$__\\\",\\\"_previousAnimation$__2\\\",\\\"prefNumberSuffOnFrame\\\",\\\"_animation$__prefix2\\\",\\\"_animation$__suffix2\\\",\\\"res\\\",\\\"tab\\\",\\\"colorOnStart\\\",\\\"RGBAValue\\\",\\\"RGBACurrent\\\",\\\"RGBAToValue\\\",\\\"forEach\\\",\\\"i\\\",\\\"index\\\",\\\"undefined\\\",\\\"push\\\",\\\"colorOnFrame\\\",\\\"finished\\\",\\\"arrayOnStart\\\",\\\"v\\\",\\\"arrayOnFrame\\\",\\\"objectOnStart\\\",\\\"key\\\",\\\"objectOnFrame\\\",\\\"newObject\\\",\\\"Array\\\",\\\"isArray\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\\\"],\\\"mappings\\\":\\\"AAiCA,SAAAA,iBAASA,CAAkBC,SAAA,EAAS;EAAA;IAAAC,qBAAA;IAAAC,OAAA;IAAAC,aAAA;IAAAC,aAAA;IAAAC,oBAAA;IAAAC;EAAA,SAAAC,QAAA;EAGlC,IAAIP,SAAS,CAACQ,aAAa,EAAE;IAC3B;EACF;EACA,MAAMC,WAAW,GAAGT,SAAS,CAACU,OAAO;EACrC,MAAMC,WAAW,GAAGX,SAAS,CAACY,OAAO;EACrC,MAAMC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEf,SAAS,CAAC;EAClD,OAAOa,aAAa,CAACG,QAAQ;EAC7B,MAAMC,qBAAqB,GAAG,SAAAA,CAACjB,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,EAAK;IAAA,IAAAC,mBAAA,EAAAC,mBAAA;IAEhF,MAAM;MACJC,MAAM,EAANA,MAAM;MACNC,MAAM,EAANA,MAAM;MACNC,aAAA,EAAAA;IACF,CAAC,GAAGxB,qBAAqB,CAACiB,KAAK,CAAC;IAChClB,SAAS,CAAC0B,QAAQ,GAAGH,MAAM;IAC3BvB,SAAS,CAAC2B,QAAQ,GAAGH,MAAM;IAC3BxB,SAAS,CAAC4B,eAAe,GAAGH,aAAa;IACzC,MAAM;MACJA,aAAa,EAAEI;IACjB,CAAC,GAAG5B,qBAAqB,CAACD,SAAS,CAAC8B,OAAO,CAAC;IAC5C9B,SAAS,CAAC+B,OAAO,GAAGN,aAAa;IACjCzB,SAAS,CAACgC,UAAU,GAAGP,aAAa;IACpCzB,SAAS,CAAC8B,OAAO,GAAGD,eAAe;IACnC,IAAIT,iBAAiB,IAAIA,iBAAiB,KAAKpB,SAAS,EAAE;MACxD,MAAM;QACJuB,MAAM,EAAEU,QAAQ;QAChBT,MAAM,EAAEU,QAAQ;QAChBT,aAAa,EAAEU;MACjB,CAAC,GAAGlC,qBAAqB,CAACmB,iBAAiB,CAACW,OAAO,CAAC;MACpDX,iBAAiB,CAACW,OAAO,GAAGI,eAAe;MAC3Cf,iBAAiB,CAACM,QAAQ,GAAGO,QAAQ;MACrCb,iBAAiB,CAACO,QAAQ,GAAGO,QAAQ;IACvC;IACAzB,WAAW,CAACT,SAAS,EAAEyB,aAAa,EAAEN,SAAS,EAAEC,iBAAiB,CAAC;IACnEpB,SAAS,CAAC+B,OAAO,GAAG,EAAAV,mBAAA,GAACrB,SAAS,CAAC0B,QAAQ,cAAAL,mBAAA,cAAAA,mBAAA,GAAI,EAAE,IAAIrB,SAAS,CAAC+B,OAAO,KAAAT,mBAAA,GAAItB,SAAS,CAAC2B,QAAQ,cAAAL,mBAAA,cAAAA,mBAAA,GAAI,EAAE,CAAC;IAC/F,IAAIF,iBAAiB,IAAIA,iBAAiB,KAAKpB,SAAS,EAAE;MAAA,IAAAoC,qBAAA,EAAAC,sBAAA;MACxDjB,iBAAiB,CAACW,OAAO,GAAG,EAAAK,qBAAA,GAAChB,iBAAiB,CAACM,QAAQ,cAAAU,qBAAA,cAAAA,qBAAA,GAAI,EAAE,IAAIhB,iBAAiB,CAACW,OAAO,KAAAM,sBAAA,GAAIjB,iBAAiB,CAACO,QAAQ,cAAAU,sBAAA,cAAAA,sBAAA,GAAI,EAAE,CAAC;IACjI;EACF,CAAC;EACD,MAAMC,qBAAqB,GAAG,SAAAA,CAACtC,SAAS,EAAEmB,SAAS,EAAK;IAAA,IAAAoB,oBAAA,EAAAC,oBAAA;IACtDxC,SAAS,CAAC+B,OAAO,GAAG/B,SAAS,CAAC4B,eAAe;IAC7C,MAAMa,GAAG,GAAG9B,WAAW,CAACX,SAAS,EAAEmB,SAAS,CAAC;IAC7CnB,SAAS,CAAC4B,eAAe,GAAG5B,SAAS,CAAC+B,OAAO;IAC7C/B,SAAS,CAAC+B,OAAO,GAAG,EAAAQ,oBAAA,GAACvC,SAAS,CAAC0B,QAAQ,cAAAa,oBAAA,cAAAA,oBAAA,GAAI,EAAE,IAAIvC,SAAS,CAAC+B,OAAO,KAAAS,oBAAA,GAAIxC,SAAS,CAAC2B,QAAQ,cAAAa,oBAAA,cAAAA,oBAAA,GAAI,EAAE,CAAC;IAC/F,OAAOC,GAAG;EACZ,CAAC;EACD,MAAMC,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;EAChC,MAAMC,YAAY,GAAG,SAAAA,CAAC3C,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,EAAK;IACvE,IAAIwB,SAAS;IACb,IAAIC,WAAW;IACf,IAAIC,WAAW;IACf,MAAML,GAAG,GAAG,EAAE;IACd,IAAIvC,OAAO,CAACgB,KAAK,CAAC,EAAE;MAClB2B,WAAW,GAAG1C,aAAa,CAACC,aAAa,CAACJ,SAAS,CAAC+B,OAAO,CAAC,CAAC;MAC7Da,SAAS,GAAGzC,aAAa,CAACC,aAAa,CAACc,KAAK,CAAC,CAAC;MAC/C,IAAIlB,SAAS,CAAC8B,OAAO,EAAE;QACrBgB,WAAW,GAAG3C,aAAa,CAACC,aAAa,CAACJ,SAAS,CAAC8B,OAAO,CAAC,CAAC;MAC/D;IACF;IACAY,GAAG,CAACK,OAAO,CAAC,UAACC,CAAC,EAAEC,KAAK,EAAK;MACxBjD,SAAS,CAACgD,CAAC,CAAC,GAAGlC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,aAAa,CAAC;MAC/Cb,SAAS,CAACgD,CAAC,CAAC,CAACjB,OAAO,GAAGc,WAAW,CAACI,KAAK,CAAC;MACzCjD,SAAS,CAACgD,CAAC,CAAC,CAAClB,OAAO,GAAGgB,WAAW,GAAGA,WAAW,CAACG,KAAK,CAAC,GAAGC,SAAS;MACnElD,SAAS,CAACgD,CAAC,CAAC,CAACtC,OAAO,CAACV,SAAS,CAACgD,CAAC,CAAC,EAAEJ,SAAS,CAACK,KAAK,CAAC,EAAE9B,SAAS,EAAEC,iBAAiB,GAAGA,iBAAiB,CAAC4B,CAAC,CAAC,GAAGE,SAAS,CAAC;MACrHT,GAAG,CAACU,IAAI,CAACnD,SAAS,CAACgD,CAAC,CAAC,CAACjB,OAAO,CAAC;IAChC,CAAC,CAAC;IACF/B,SAAS,CAAC+B,OAAO,GAAG1B,oBAAoB,CAACC,YAAY,CAACmC,GAAG,CAAC,CAAC;EAC7D,CAAC;EACD,MAAMW,YAAY,GAAG,SAAAA,CAACpD,SAAS,EAAEmB,SAAS,EAAK;IAC7C,MAAM0B,WAAW,GAAG1C,aAAa,CAACC,aAAa,CAACJ,SAAS,CAAC+B,OAAO,CAAC,CAAC;IACnE,MAAMU,GAAG,GAAG,EAAE;IACd,IAAIY,QAAQ,GAAG,IAAI;IACnBX,GAAG,CAACK,OAAO,CAAC,UAACC,CAAC,EAAEC,KAAK,EAAK;MACxBjD,SAAS,CAACgD,CAAC,CAAC,CAACjB,OAAO,GAAGc,WAAW,CAACI,KAAK,CAAC;MAEzCI,QAAQ,IAAIrD,SAAS,CAACgD,CAAC,CAAC,CAACpC,OAAO,CAACZ,SAAS,CAACgD,CAAC,CAAC,EAAE7B,SAAS,CAAC;MACzDsB,GAAG,CAACU,IAAI,CAACnD,SAAS,CAACgD,CAAC,CAAC,CAACjB,OAAO,CAAC;IAChC,CAAC,CAAC;IACF/B,SAAS,CAAC+B,OAAO,GAAG1B,oBAAoB,CAACC,YAAY,CAACmC,GAAG,CAAC,CAAC;IAC3D,OAAOY,QAAQ;EACjB,CAAC;EACD,MAAMC,YAAY,GAAG,SAAAA,CAACtD,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,EAAK;IACvEF,KAAK,CAAC6B,OAAO,CAAC,UAACQ,CAAC,EAAEP,CAAC,EAAK;MACtBhD,SAAS,CAACgD,CAAC,CAAC,GAAGlC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,aAAa,CAAC;MAC/Cb,SAAS,CAACgD,CAAC,CAAC,CAACjB,OAAO,GAAGwB,CAAC;MACxBvD,SAAS,CAACgD,CAAC,CAAC,CAAClB,OAAO,GAAG9B,SAAS,CAAC8B,OAAO,CAACkB,CAAC,CAAC;MAC3ChD,SAAS,CAACgD,CAAC,CAAC,CAACtC,OAAO,CAACV,SAAS,CAACgD,CAAC,CAAC,EAAEO,CAAC,EAAEpC,SAAS,EAAEC,iBAAiB,GAAGA,iBAAiB,CAAC4B,CAAC,CAAC,GAAGE,SAAS,CAAC;IACxG,CAAC,CAAC;IACFlD,SAAS,CAAC+B,OAAO,GAAGb,KAAK;EAC3B,CAAC;EACD,MAAMsC,YAAY,GAAG,SAAAA,CAACxD,SAAS,EAAEmB,SAAS,EAAK;IAC7C,IAAIkC,QAAQ,GAAG,IAAI;IACnBrD,SAAS,CAAC+B,OAAO,CAACgB,OAAO,CAAC,UAACQ,CAAC,EAAEP,CAAC,EAAK;MAElCK,QAAQ,IAAIrD,SAAS,CAACgD,CAAC,CAAC,CAACpC,OAAO,CAACZ,SAAS,CAACgD,CAAC,CAAC,EAAE7B,SAAS,CAAC;MACzDnB,SAAS,CAAC+B,OAAO,CAACiB,CAAC,CAAC,GAAGhD,SAAS,CAACgD,CAAC,CAAC,CAACjB,OAAO;IAC7C,CAAC,CAAC;IACF,OAAOsB,QAAQ;EACjB,CAAC;EACD,MAAMI,aAAa,GAAG,SAAAA,CAACzD,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,EAAK;IACxE,KAAK,MAAMsC,GAAG,IAAIxC,KAAK,EAAE;MACvBlB,SAAS,CAAC0D,GAAG,CAAC,GAAG5C,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,aAAa,CAAC;MACjDb,SAAS,CAAC0D,GAAG,CAAC,CAAChD,OAAO,GAAGV,SAAS,CAACU,OAAO;MAC1CV,SAAS,CAAC0D,GAAG,CAAC,CAAC3B,OAAO,GAAGb,KAAK,CAACwC,GAAG,CAAC;MACnC1D,SAAS,CAAC0D,GAAG,CAAC,CAAC5B,OAAO,GAAG9B,SAAS,CAAC8B,OAAO,CAAC4B,GAAG,CAAC;MAC/C1D,SAAS,CAAC0D,GAAG,CAAC,CAAChD,OAAO,CAACV,SAAS,CAAC0D,GAAG,CAAC,EAAExC,KAAK,CAACwC,GAAG,CAAC,EAAEvC,SAAS,EAAEC,iBAAiB,GAAGA,iBAAiB,CAACsC,GAAG,CAAC,GAAGR,SAAS,CAAC;IACvH;IACAlD,SAAS,CAAC+B,OAAO,GAAGb,KAAK;EAC3B,CAAC;EACD,MAAMyC,aAAa,GAAG,SAAAA,CAAC3D,SAAS,EAAEmB,SAAS,EAAK;IAC9C,IAAIkC,QAAQ,GAAG,IAAI;IACnB,MAAMO,SAAS,GAAG,CAAC,CAAC;IACpB,KAAK,MAAMF,GAAG,IAAI1D,SAAS,CAAC+B,OAAO,EAAE;MAEnCsB,QAAQ,IAAIrD,SAAS,CAAC0D,GAAG,CAAC,CAAC9C,OAAO,CAACZ,SAAS,CAAC0D,GAAG,CAAC,EAAEvC,SAAS,CAAC;MAC7DyC,SAAS,CAACF,GAAG,CAAC,GAAG1D,SAAS,CAAC0D,GAAG,CAAC,CAAC3B,OAAO;IACzC;IACA/B,SAAS,CAAC+B,OAAO,GAAG6B,SAAS;IAC7B,OAAOP,QAAQ;EACjB,CAAC;EACDrD,SAAS,CAACU,OAAO,GAAG,UAACV,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,EAAK;IACtE,IAAIlB,OAAO,CAACgB,KAAK,CAAC,EAAE;MAClByB,YAAY,CAAC3C,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,CAAC;MAC5DpB,SAAS,CAACY,OAAO,GAAGwC,YAAY;MAChC;IACF,CAAC,MAAM,IAAIS,KAAK,CAACC,OAAO,CAAC5C,KAAK,CAAC,EAAE;MAC/BoC,YAAY,CAACtD,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,CAAC;MAC5DpB,SAAS,CAACY,OAAO,GAAG4C,YAAY;MAChC;IACF,CAAC,MAAM,IAAI,OAAOtC,KAAK,KAAK,QAAQ,EAAE;MACpCD,qBAAqB,CAACjB,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,CAAC;MACrEpB,SAAS,CAACY,OAAO,GAAG0B,qBAAqB;MACzC;IACF,CAAC,MAAM,IAAI,OAAOpB,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,EAAE;MACtDuC,aAAa,CAACzD,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,CAAC;MAC7DpB,SAAS,CAACY,OAAO,GAAG+C,aAAa;MACjC;IACF;IACAlD,WAAW,CAACT,SAAS,EAAEkB,KAAK,EAAEC,SAAS,EAAEC,iBAAiB,CAAC;EAC7D,CAAC;AACH\\\"}\"\n};\n\nvar decorateAnimation = function () {\n  var _e = [new global.Error(), -7, -27];\n\n  var _f = function _f(animation) {\n    if (animation.isHigherOrder) {\n      return;\n    }\n\n    var baseOnStart = animation.onStart;\n    var baseOnFrame = animation.onFrame;\n    var animationCopy = Object.assign({}, animation);\n    delete animationCopy.callback;\n\n    var prefNumberSuffOnStart = function prefNumberSuffOnStart(animation, value, timestamp, previousAnimation) {\n      var _animation$__prefix, _animation$__suffix;\n\n      var _recognizePrefixSuffi = recognizePrefixSuffix(value),\n          prefix = _recognizePrefixSuffi.prefix,\n          suffix = _recognizePrefixSuffi.suffix,\n          strippedValue = _recognizePrefixSuffi.strippedValue;\n\n      animation.__prefix = prefix;\n      animation.__suffix = suffix;\n      animation.strippedCurrent = strippedValue;\n\n      var _recognizePrefixSuffi2 = recognizePrefixSuffix(animation.toValue),\n          strippedToValue = _recognizePrefixSuffi2.strippedValue;\n\n      animation.current = strippedValue;\n      animation.startValue = strippedValue;\n      animation.toValue = strippedToValue;\n\n      if (previousAnimation && previousAnimation !== animation) {\n        var _recognizePrefixSuffi3 = recognizePrefixSuffix(previousAnimation.current),\n            paPrefix = _recognizePrefixSuffi3.prefix,\n            paSuffix = _recognizePrefixSuffi3.suffix,\n            paStrippedValue = _recognizePrefixSuffi3.strippedValue;\n\n        previousAnimation.current = paStrippedValue;\n        previousAnimation.__prefix = paPrefix;\n        previousAnimation.__suffix = paSuffix;\n      }\n\n      baseOnStart(animation, strippedValue, timestamp, previousAnimation);\n      animation.current = ((_animation$__prefix = animation.__prefix) != null ? _animation$__prefix : '') + animation.current + ((_animation$__suffix = animation.__suffix) != null ? _animation$__suffix : '');\n\n      if (previousAnimation && previousAnimation !== animation) {\n        var _previousAnimation$__, _previousAnimation$__2;\n\n        previousAnimation.current = ((_previousAnimation$__ = previousAnimation.__prefix) != null ? _previousAnimation$__ : '') + previousAnimation.current + ((_previousAnimation$__2 = previousAnimation.__suffix) != null ? _previousAnimation$__2 : '');\n      }\n    };\n\n    var prefNumberSuffOnFrame = function prefNumberSuffOnFrame(animation, timestamp) {\n      var _animation$__prefix2, _animation$__suffix2;\n\n      animation.current = animation.strippedCurrent;\n      var res = baseOnFrame(animation, timestamp);\n      animation.strippedCurrent = animation.current;\n      animation.current = ((_animation$__prefix2 = animation.__prefix) != null ? _animation$__prefix2 : '') + animation.current + ((_animation$__suffix2 = animation.__suffix) != null ? _animation$__suffix2 : '');\n      return res;\n    };\n\n    var tab = ['R', 'G', 'B', 'A'];\n\n    var colorOnStart = function colorOnStart(animation, value, timestamp, previousAnimation) {\n      var RGBAValue;\n      var RGBACurrent;\n      var RGBAToValue;\n      var res = [];\n\n      if (isColor(value)) {\n        RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n        RGBAValue = toLinearSpace(convertToRGBA(value));\n\n        if (animation.toValue) {\n          RGBAToValue = toLinearSpace(convertToRGBA(animation.toValue));\n        }\n      }\n\n      tab.forEach(function (i, index) {\n        animation[i] = Object.assign({}, animationCopy);\n        animation[i].current = RGBACurrent[index];\n        animation[i].toValue = RGBAToValue ? RGBAToValue[index] : undefined;\n        animation[i].onStart(animation[i], RGBAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\n        res.push(animation[i].current);\n      });\n      animation.current = rgbaArrayToRGBAColor(toGammaSpace(res));\n    };\n\n    var colorOnFrame = function colorOnFrame(animation, timestamp) {\n      var RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n      var res = [];\n      var finished = true;\n      tab.forEach(function (i, index) {\n        animation[i].current = RGBACurrent[index];\n        finished &= animation[i].onFrame(animation[i], timestamp);\n        res.push(animation[i].current);\n      });\n      animation.current = rgbaArrayToRGBAColor(toGammaSpace(res));\n      return finished;\n    };\n\n    var arrayOnStart = function arrayOnStart(animation, value, timestamp, previousAnimation) {\n      value.forEach(function (v, i) {\n        animation[i] = Object.assign({}, animationCopy);\n        animation[i].current = v;\n        animation[i].toValue = animation.toValue[i];\n        animation[i].onStart(animation[i], v, timestamp, previousAnimation ? previousAnimation[i] : undefined);\n      });\n      animation.current = value;\n    };\n\n    var arrayOnFrame = function arrayOnFrame(animation, timestamp) {\n      var finished = true;\n      animation.current.forEach(function (v, i) {\n        finished &= animation[i].onFrame(animation[i], timestamp);\n        animation.current[i] = animation[i].current;\n      });\n      return finished;\n    };\n\n    var objectOnStart = function objectOnStart(animation, value, timestamp, previousAnimation) {\n      for (var key in value) {\n        animation[key] = Object.assign({}, animationCopy);\n        animation[key].onStart = animation.onStart;\n        animation[key].current = value[key];\n        animation[key].toValue = animation.toValue[key];\n        animation[key].onStart(animation[key], value[key], timestamp, previousAnimation ? previousAnimation[key] : undefined);\n      }\n\n      animation.current = value;\n    };\n\n    var objectOnFrame = function objectOnFrame(animation, timestamp) {\n      var finished = true;\n      var newObject = {};\n\n      for (var key in animation.current) {\n        finished &= animation[key].onFrame(animation[key], timestamp);\n        newObject[key] = animation[key].current;\n      }\n\n      animation.current = newObject;\n      return finished;\n    };\n\n    animation.onStart = function (animation, value, timestamp, previousAnimation) {\n      if (isColor(value)) {\n        colorOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = colorOnFrame;\n        return;\n      } else if (Array.isArray(value)) {\n        arrayOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = arrayOnFrame;\n        return;\n      } else if (typeof value === 'string') {\n        prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = prefNumberSuffOnFrame;\n        return;\n      } else if (typeof value === 'object' && value !== null) {\n        objectOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = objectOnFrame;\n        return;\n      }\n\n      baseOnStart(animation, value, timestamp, previousAnimation);\n    };\n  };\n\n  _f._closure = {\n    recognizePrefixSuffix: recognizePrefixSuffix,\n    isColor: isColor,\n    toLinearSpace: toLinearSpace,\n    convertToRGBA: convertToRGBA,\n    rgbaArrayToRGBAColor: rgbaArrayToRGBAColor,\n    toGammaSpace: toGammaSpace\n  };\n  _f.__initData = _worklet_7675676752948_init_data;\n  _f.__workletHash = 7675676752948;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\n\nvar IS_NATIVE = NativeReanimatedModule.native;\nvar _worklet_9563541438710_init_data = {\n  code: \"function defineAnimation(starting, factory) {\\n  const {\\n    IN_STYLE_UPDATER,\\n    decorateAnimation,\\n    IS_NATIVE\\n  } = this._closure;\\n  if (IN_STYLE_UPDATER) {\\n    return starting;\\n  }\\n  const create = function () {\\n    'worklet';\\n\\n    const animation = factory();\\n    decorateAnimation(animation);\\n    return animation;\\n  };\\n  if (_WORKLET || !IS_NATIVE) {\\n    return create();\\n  }\\n  return create;\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"defineAnimation\\\",\\\"starting\\\",\\\"factory\\\",\\\"IN_STYLE_UPDATER\\\",\\\"decorateAnimation\\\",\\\"IS_NATIVE\\\",\\\"_closure\\\",\\\"create\\\",\\\"animation\\\",\\\"_WORKLET\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\\\"],\\\"mappings\\\":\\\"AAkLO,SAAAA,eAASA,CAAgBC,QAAA,EAAQC,OAAE,EAAO;EAAA;IAAAC,gBAAA;IAAAC,iBAAA;IAAAC;EAAA,SAAAC,QAAA;EAG/C,IAAIH,gBAAgB,EAAE;IACpB,OAAOF,QAAQ;EACjB;EACA,MAAMM,MAAM,GAAG,SAAAA,CAAA,EAAM;IACnB,SAAS;;IAET,MAAMC,SAAS,GAAGN,OAAO,CAAC,CAAC;IAC3BE,iBAAiB,CAACI,SAAS,CAAC;IAC5B,OAAOA,SAAS;EAClB,CAAC;EACD,IAAIC,QAAQ,IAAI,CAACJ,SAAS,EAAE;IAC1B,OAAOE,MAAM,CAAC,CAAC;EACjB;EAEA,OAAOA,MAAM;AACf\\\"}\"\n};\nvar _worklet_17288123765057_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    factory,\\n    decorateAnimation\\n  } = this._closure;\\n  const animation = factory();\\n  decorateAnimation(animation);\\n  return animation;\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"factory\\\",\\\"decorateAnimation\\\",\\\"_closure\\\",\\\"animation\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\\\"],\\\"mappings\\\":\\\"AAwLiB,SAAAA,SAAMA,CAAA;EAAA;IAAAC,OAAA;IAAAC;EAAA,SAAAC,QAAA;EAGnB,MAAMC,SAAS,GAAGH,OAAO,CAAC,CAAC;EAC3BC,iBAAiB,CAACE,SAAS,CAAC;EAC5B,OAAOA,SAAS;AAClB\\\"}\"\n};\nexport var defineAnimation = function () {\n  var _e = [new global.Error(), -4, -27];\n\n  var _f = function _f(starting, factory) {\n    if (IN_STYLE_UPDATER) {\n      return starting;\n    }\n\n    var create = function () {\n      var _e = [new global.Error(), -3, -27];\n\n      var _f = function _f() {\n        var animation = factory();\n        decorateAnimation(animation);\n        return animation;\n      };\n\n      _f._closure = {\n        factory: factory,\n        decorateAnimation: decorateAnimation\n      };\n      _f.__initData = _worklet_17288123765057_init_data;\n      _f.__workletHash = 17288123765057;\n      _f.__stackDetails = _e;\n      _f.__version = \"3.3.0\";\n      return _f;\n    }();\n\n    if (_WORKLET || !IS_NATIVE) {\n      return create();\n    }\n\n    return create;\n  };\n\n  _f._closure = {\n    IN_STYLE_UPDATER: IN_STYLE_UPDATER,\n    decorateAnimation: decorateAnimation,\n    IS_NATIVE: IS_NATIVE\n  };\n  _f.__initData = _worklet_9563541438710_init_data;\n  _f.__workletHash = 9563541438710;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_6149673277334_init_data = {\n  code: \"function cancelAnimation(sharedValue) {\\n  sharedValue.value = sharedValue.value;\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"cancelAnimation\\\",\\\"sharedValue\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\\\"],\\\"mappings\\\":\\\"AAqMO,SAAAA,eAASA,CAAgBC,WAAA,EAAW;EAIzCA,WAAW,CAACC,KAAK,GAAGD,WAAW,CAACC,KAAK;AACvC\\\"}\"\n};\nexport var cancelAnimation = function () {\n  var _e = [new global.Error(), 1, -27];\n\n  var _f = function _f(sharedValue) {\n    sharedValue.value = sharedValue.value;\n  };\n\n  _f._closure = {};\n  _f.__initData = _worklet_6149673277334_init_data;\n  _f.__workletHash = 6149673277334;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_8645392350280_init_data = {\n  code: \"function withStartValue(startValue, animation) {\\n  const {\\n    defineAnimation\\n  } = this._closure;\\n  return defineAnimation(startValue, function () {\\n    'worklet';\\n\\n    if (!_WORKLET && typeof animation === 'function') {\\n      animation = animation();\\n    }\\n    animation.current = startValue;\\n    return animation;\\n  });\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"withStartValue\\\",\\\"startValue\\\",\\\"animation\\\",\\\"defineAnimation\\\",\\\"_closure\\\",\\\"_WORKLET\\\",\\\"current\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\\\"],\\\"mappings\\\":\\\"AA6MO,SAAAA,cAASA,CAAeC,UAAA,EAAUC,SAAE,EAAS;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAGlD,OAAOD,eAAe,CAACF,UAAU,EAAE,YAAM;IACvC,SAAS;;IAET,IAAI,CAACI,QAAQ,IAAI,OAAOH,SAAS,KAAK,UAAU,EAAE;MAChDA,SAAS,GAAGA,SAAS,CAAC,CAAC;IACzB;IACAA,SAAS,CAACI,OAAO,GAAGL,UAAU;IAC9B,OAAOC,SAAS;EAClB,CAAC,CAAC;AACJ\\\"}\"\n};\nvar _worklet_9761411289677_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    animation,\\n    startValue\\n  } = this._closure;\\n  if (!_WORKLET && typeof animation === 'function') {\\n    animation = animation();\\n  }\\n  animation.current = startValue;\\n  return animation;\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"animation\\\",\\\"startValue\\\",\\\"_closure\\\",\\\"_WORKLET\\\",\\\"current\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js\\\"],\\\"mappings\\\":\\\"AAgNqC,SAAAA,SAAMA,CAAA;EAAA;IAAAC,SAAA;IAAAC;EAAA,SAAAC,QAAA;EAGvC,IAAI,CAACC,QAAQ,IAAI,OAAOH,SAAS,KAAK,UAAU,EAAE;IAChDA,SAAS,GAAGA,SAAS,CAAC,CAAC;EACzB;EACAA,SAAS,CAACI,OAAO,GAAGH,UAAU;EAC9B,OAAOD,SAAS;AAClB\\\"}\"\n};\nexport var withStartValue = function () {\n  var _e = [new global.Error(), -2, -27];\n\n  var _f = function _f(startValue, animation) {\n    return defineAnimation(startValue, function () {\n      var _e = [new global.Error(), -3, -27];\n\n      var _f = function _f() {\n        if (!_WORKLET && typeof animation === 'function') {\n          animation = animation();\n        }\n\n        animation.current = startValue;\n        return animation;\n      };\n\n      _f._closure = {\n        animation: animation,\n        startValue: startValue\n      };\n      _f.__initData = _worklet_9761411289677_init_data;\n      _f.__workletHash = 9761411289677;\n      _f.__stackDetails = _e;\n      _f.__version = \"3.3.0\";\n      return _f;\n    }());\n  };\n\n  _f._closure = {\n    defineAnimation: defineAnimation\n  };\n  _f.__initData = _worklet_8645392350280_init_data;\n  _f.__workletHash = 8645392350280;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();","map":{"version":3,"sources":["util.ts"],"names":["isColor","convertToRGBA","rgbaArrayToRGBAColor","toGammaSpace","toLinearSpace","NativeReanimatedModule","IN_STYLE_UPDATER","initialUpdaterRun","updater","result","recognizePrefixSuffix","value","match","Error","prefix","suffix","number","strippedValue","parseFloat","decorateAnimation","animation","isHigherOrder","baseOnStart","onStart","baseOnFrame","onFrame","animationCopy","Object","assign","callback","prefNumberSuffOnStart","timestamp","previousAnimation","__prefix","__suffix","strippedCurrent","strippedToValue","toValue","current","startValue","paPrefix","paSuffix","paStrippedValue","prefNumberSuffOnFrame","res","tab","colorOnStart","RGBAValue","RGBACurrent","RGBAToValue","forEach","i","index","undefined","push","colorOnFrame","finished","arrayOnStart","v","arrayOnFrame","objectOnStart","key","objectOnFrame","newObject","Array","isArray","IS_NATIVE","native","defineAnimation","starting","factory","create","_WORKLET","cancelAnimation","sharedValue","withStartValue"],"mappings":"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","sourcesContent":["import {\n  HigherOrderAnimation,\n  NextAnimation,\n  DelayAnimation,\n  RepeatAnimation,\n  SequenceAnimation,\n  StyleLayoutAnimation,\n} from './commonTypes';\n/* global _WORKLET */\nimport {\n  ParsedColorArray,\n  isColor,\n  convertToRGBA,\n  rgbaArrayToRGBAColor,\n  toGammaSpace,\n  toLinearSpace,\n} from '../Colors';\n\nimport {\n  AnimatedStyle,\n  SharedValue,\n  AnimatableValue,\n  Animation,\n  AnimationObject,\n  Timestamp,\n  AnimatableValueObject,\n} from '../commonTypes';\nimport NativeReanimatedModule from '../NativeReanimated';\n\nlet IN_STYLE_UPDATER = false;\n\nexport type UserUpdater = () => AnimatedStyle;\n\nexport function initialUpdaterRun<T>(updater: () => T): T {\n  IN_STYLE_UPDATER = true;\n  const result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\n\ninterface RecognizedPrefixSuffix {\n  prefix?: string;\n  suffix?: string;\n  strippedValue: number;\n}\n\nfunction recognizePrefixSuffix(value: string | number): RecognizedPrefixSuffix {\n  'worklet';\n  if (typeof value === 'string') {\n    const match = value.match(\n      /([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/\n    );\n    if (!match) {\n      throw Error(\n        \"Couldn't parse animation value. Check if there isn't any typo.\"\n      );\n    }\n    const prefix = match[1];\n    const suffix = match[4];\n    // number with scientific notation\n    const number = match[2] + (match[3] ?? '');\n    return { prefix, suffix, strippedValue: parseFloat(number) };\n  } else {\n    return { strippedValue: value };\n  }\n}\n\nfunction decorateAnimation<T extends AnimationObject | StyleLayoutAnimation>(\n  animation: T\n): void {\n  'worklet';\n  if ((animation as HigherOrderAnimation).isHigherOrder) {\n    return;\n  }\n\n  const baseOnStart = (animation as Animation<AnimationObject>).onStart;\n  const baseOnFrame = (animation as Animation<AnimationObject>).onFrame;\n  const animationCopy = Object.assign({}, animation);\n  delete animationCopy.callback;\n\n  const prefNumberSuffOnStart = (\n    animation: Animation<AnimationObject>,\n    value: string | number,\n    timestamp: number,\n    previousAnimation: Animation<AnimationObject>\n  ) => {\n    // recognize prefix, suffix, and updates stripped value on animation start\n    const { prefix, suffix, strippedValue } = recognizePrefixSuffix(value);\n    animation.__prefix = prefix;\n    animation.__suffix = suffix;\n    animation.strippedCurrent = strippedValue;\n    const { strippedValue: strippedToValue } = recognizePrefixSuffix(\n      animation.toValue as string | number\n    );\n    animation.current = strippedValue;\n    animation.startValue = strippedValue;\n    animation.toValue = strippedToValue;\n    if (previousAnimation && previousAnimation !== animation) {\n      const {\n        prefix: paPrefix,\n        suffix: paSuffix,\n        strippedValue: paStrippedValue,\n      } = recognizePrefixSuffix(previousAnimation.current as string | number);\n      previousAnimation.current = paStrippedValue;\n      previousAnimation.__prefix = paPrefix;\n      previousAnimation.__suffix = paSuffix;\n    }\n\n    baseOnStart(animation, strippedValue, timestamp, previousAnimation);\n\n    animation.current =\n      (animation.__prefix ?? '') +\n      animation.current +\n      (animation.__suffix ?? '');\n\n    if (previousAnimation && previousAnimation !== animation) {\n      previousAnimation.current =\n        (previousAnimation.__prefix ?? '') +\n        previousAnimation.current +\n        (previousAnimation.__suffix ?? '');\n    }\n  };\n  const prefNumberSuffOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: number\n  ) => {\n    animation.current = animation.strippedCurrent;\n    const res = baseOnFrame(animation, timestamp);\n    animation.strippedCurrent = animation.current;\n    animation.current =\n      (animation.__prefix ?? '') +\n      animation.current +\n      (animation.__suffix ?? '');\n    return res;\n  };\n\n  const tab = ['R', 'G', 'B', 'A'];\n  const colorOnStart = (\n    animation: Animation<AnimationObject>,\n    value: string | number,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    let RGBAValue: ParsedColorArray;\n    let RGBACurrent: ParsedColorArray;\n    let RGBAToValue: ParsedColorArray;\n    const res: Array<number> = [];\n    if (isColor(value)) {\n      RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n      RGBAValue = toLinearSpace(convertToRGBA(value));\n      if (animation.toValue) {\n        RGBAToValue = toLinearSpace(convertToRGBA(animation.toValue));\n      }\n    }\n    tab.forEach((i, index) => {\n      animation[i] = Object.assign({}, animationCopy);\n      animation[i].current = RGBACurrent[index];\n      animation[i].toValue = RGBAToValue ? RGBAToValue[index] : undefined;\n      animation[i].onStart(\n        animation[i],\n        RGBAValue[index],\n        timestamp,\n        previousAnimation ? previousAnimation[i] : undefined\n      );\n      res.push(animation[i].current);\n    });\n\n    animation.current = rgbaArrayToRGBAColor(\n      toGammaSpace(res as ParsedColorArray)\n    );\n  };\n\n  const colorOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    const RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n    const res: Array<number> = [];\n    let finished = true;\n    tab.forEach((i, index) => {\n      animation[i].current = RGBACurrent[index];\n      // @ts-ignore: disable-next-line\n      finished &= animation[i].onFrame(animation[i], timestamp);\n      res.push(animation[i].current);\n    });\n\n    animation.current = rgbaArrayToRGBAColor(\n      toGammaSpace(res as ParsedColorArray)\n    );\n    return finished;\n  };\n\n  const arrayOnStart = (\n    animation: Animation<AnimationObject>,\n    value: Array<number>,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    value.forEach((v, i) => {\n      animation[i] = Object.assign({}, animationCopy);\n      animation[i].current = v;\n      animation[i].toValue = (animation.toValue as Array<number>)[i];\n      animation[i].onStart(\n        animation[i],\n        v,\n        timestamp,\n        previousAnimation ? previousAnimation[i] : undefined\n      );\n    });\n\n    animation.current = value;\n  };\n\n  const arrayOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    let finished = true;\n    (animation.current as Array<number>).forEach((v, i) => {\n      // @ts-ignore: disable-next-line\n      finished &= animation[i].onFrame(animation[i], timestamp);\n      (animation.current as Array<number>)[i] = animation[i].current;\n    });\n\n    return finished;\n  };\n\n  const objectOnStart = (\n    animation: Animation<AnimationObject>,\n    value: AnimatableValueObject,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    for (const key in value) {\n      animation[key] = Object.assign({}, animationCopy);\n      animation[key].onStart = animation.onStart;\n\n      animation[key].current = value[key];\n      animation[key].toValue = (animation.toValue as AnimatableValueObject)[\n        key\n      ];\n      animation[key].onStart(\n        animation[key],\n        value[key],\n        timestamp,\n        previousAnimation ? previousAnimation[key] : undefined\n      );\n    }\n    animation.current = value;\n  };\n\n  const objectOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    let finished = true;\n    const newObject: AnimatableValueObject = {};\n    for (const key in animation.current as AnimatableValueObject) {\n      // @ts-ignore: disable-next-line\n      finished &= animation[key].onFrame(animation[key], timestamp);\n      newObject[key] = animation[key].current;\n    }\n    animation.current = newObject;\n    return finished;\n  };\n\n  animation.onStart = (\n    animation: Animation<AnimationObject>,\n    value: number,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ) => {\n    if (isColor(value)) {\n      colorOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = colorOnFrame;\n      return;\n    } else if (Array.isArray(value)) {\n      arrayOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = arrayOnFrame;\n      return;\n    } else if (typeof value === 'string') {\n      prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = prefNumberSuffOnFrame;\n      return;\n    } else if (typeof value === 'object' && value !== null) {\n      objectOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = objectOnFrame;\n      return;\n    }\n    baseOnStart(animation, value, timestamp, previousAnimation);\n  };\n}\n\ntype AnimationToDecoration<T extends AnimationObject | StyleLayoutAnimation> =\n  T extends StyleLayoutAnimation\n    ? Record<string, unknown>\n    : T extends DelayAnimation\n    ? NextAnimation<DelayAnimation>\n    : T extends RepeatAnimation\n    ? NextAnimation<RepeatAnimation>\n    : T extends SequenceAnimation\n    ? NextAnimation<SequenceAnimation>\n    : AnimatableValue | T;\n\nconst IS_NATIVE = NativeReanimatedModule.native;\n\nexport function defineAnimation<\n  T extends AnimationObject | StyleLayoutAnimation\n>(starting: AnimationToDecoration<T>, factory: () => T): T {\n  'worklet';\n  if (IN_STYLE_UPDATER) {\n    return starting as T;\n  }\n  const create = () => {\n    'worklet';\n    const animation = factory();\n    decorateAnimation<T>(animation);\n    return animation;\n  };\n\n  if (_WORKLET || !IS_NATIVE) {\n    return create();\n  }\n  // @ts-ignore: eslint-disable-line\n  return create;\n}\n\nexport function cancelAnimation<T>(sharedValue: SharedValue<T>): void {\n  'worklet';\n  // setting the current value cancels the animation if one is currently running\n  sharedValue.value = sharedValue.value; // eslint-disable-line no-self-assign\n}\n\n// TODO it should work only if there was no animation before.\nexport function withStartValue(\n  startValue: AnimatableValue,\n  animation: NextAnimation<AnimationObject>\n): Animation<AnimationObject> {\n  'worklet';\n  return defineAnimation(startValue, () => {\n    'worklet';\n    if (!_WORKLET && typeof animation === 'function') {\n      animation = animation();\n    }\n    (animation as Animation<AnimationObject>).current = startValue;\n    return animation as Animation<AnimationObject>;\n  });\n}\n"]},"metadata":{},"sourceType":"module"}