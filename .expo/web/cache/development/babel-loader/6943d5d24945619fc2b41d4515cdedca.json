{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { defineAnimation } from \"./util\";\nimport { initialCalculations, calcuateNewMassToMatchDuration, underDampedSpringCalculations, criticallyDampedSpringCalculations, isAnimationTerminatingCalculation } from \"./springUtils\";\nvar _worklet_3329358150165_init_data = {\n  code: \"function withSpring(toValue, userConfig, callback) {\\n  const {\\n    defineAnimation,\\n    underDampedSpringCalculations,\\n    criticallyDampedSpringCalculations,\\n    isAnimationTerminatingCalculation,\\n    calcuateNewMassToMatchDuration,\\n    initialCalculations\\n  } = this._closure;\\n  return defineAnimation(toValue, function () {\\n    'worklet';\\n\\n    const defaultConfig = {\\n      damping: 10,\\n      mass: 1,\\n      stiffness: 100,\\n      overshootClamping: false,\\n      restDisplacementThreshold: 0.01,\\n      restSpeedThreshold: 2,\\n      velocity: 0,\\n      duration: 2000,\\n      dampingRatio: 0.5\\n    };\\n    const config = {\\n      ...defaultConfig,\\n      ...userConfig,\\n      useDuration: !!(userConfig !== null && userConfig !== void 0 && userConfig.duration || userConfig !== null && userConfig !== void 0 && userConfig.dampingRatio),\\n      configIsInvalid: false\\n    };\\n    if ([config.stiffness, config.damping, config.duration, config.dampingRatio, config.restDisplacementThreshold, config.restSpeedThreshold].some(function (x) {\\n      return x <= 0;\\n    }) || config.mass === 0) {\\n      config.configIsInvalid = true;\\n      console.warn(\\\"You have provided invalid spring animation configuration! \\\\n Value of stiffness, damping, duration and damping ratio must be greater than zero, and mass can't equal zero.\\\");\\n    }\\n    function springOnFrame(animation, now) {\\n      const {\\n        toValue: toValue,\\n        startTimestamp: startTimestamp,\\n        current: current\\n      } = animation;\\n      const timeFromStart = now - startTimestamp;\\n      if (config.useDuration && timeFromStart >= config.duration) {\\n        animation.current = toValue;\\n        animation.lastTimestamp = 0;\\n        return true;\\n      }\\n      if (config.configIsInvalid) {\\n        if (config.useDuration) return false;else {\\n          animation.current = toValue;\\n          animation.lastTimestamp = 0;\\n          return true;\\n        }\\n      }\\n      const {\\n        lastTimestamp: lastTimestamp,\\n        velocity: velocity\\n      } = animation;\\n      const deltaTime = Math.min(now - lastTimestamp, 64);\\n      animation.lastTimestamp = now;\\n      const t = deltaTime / 1000;\\n      const v0 = -velocity;\\n      const x0 = toValue - current;\\n      const {\\n        zeta: zeta,\\n        omega0: omega0,\\n        omega1: omega1\\n      } = animation;\\n      const {\\n        position: newPosition,\\n        velocity: newVelocity\\n      } = zeta < 1 ? underDampedSpringCalculations(animation, {\\n        zeta: zeta,\\n        v0: v0,\\n        x0: x0,\\n        omega0: omega0,\\n        omega1: omega1,\\n        t: t\\n      }) : criticallyDampedSpringCalculations(animation, {\\n        v0: v0,\\n        x0: x0,\\n        omega0: omega0,\\n        t: t\\n      });\\n      animation.current = newPosition;\\n      animation.velocity = newVelocity;\\n      const {\\n        isOvershooting: isOvershooting,\\n        isVelocity: isVelocity,\\n        isDisplacement: isDisplacement\\n      } = isAnimationTerminatingCalculation(animation, config);\\n      const springIsNotInMove = isOvershooting || isVelocity && isDisplacement;\\n      if (!config.useDuration && springIsNotInMove) {\\n        animation.velocity = 0;\\n        animation.current = toValue;\\n        animation.lastTimestamp = 0;\\n        return true;\\n      }\\n      return false;\\n    }\\n    function isTriggeredTwice(previousAnimation, animation) {\\n      return (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.toValue) === animation.toValue && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.duration) === animation.duration && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.dampingRatio) === animation.dampingRatio;\\n    }\\n    function onStart(animation, value, now, previousAnimation) {\\n      animation.current = value;\\n      animation.startValue = value;\\n      let mass = config.mass;\\n      const triggeredTwice = isTriggeredTwice(previousAnimation, animation);\\n      const duration = config.duration;\\n      const x0 = triggeredTwice ? previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startValue : Number(animation.toValue) - value;\\n      if (previousAnimation) {\\n        animation.velocity = (triggeredTwice ? previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.velocity : (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.velocity) + config.velocity) || 0;\\n      } else {\\n        animation.velocity = config.velocity || 0;\\n      }\\n      if (triggeredTwice) {\\n        animation.zeta = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.zeta) || 0;\\n        animation.omega0 = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.omega0) || 0;\\n        animation.omega1 = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.omega1) || 0;\\n      } else {\\n        if (config.useDuration) {\\n          const acutalDuration = triggeredTwice ? duration - (((previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.lastTimestamp) || 0) - ((previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) || 0)) : duration;\\n          config.duration = acutalDuration;\\n          mass = calcuateNewMassToMatchDuration(x0, config, animation.velocity);\\n        }\\n        const {\\n          zeta: zeta,\\n          omega0: omega0,\\n          omega1: omega1\\n        } = initialCalculations(mass, config);\\n        animation.zeta = zeta;\\n        animation.omega0 = omega0;\\n        animation.omega1 = omega1;\\n      }\\n      animation.lastTimestamp = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.lastTimestamp) || now;\\n      animation.startTimestamp = triggeredTwice ? (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) || now : now;\\n    }\\n    return {\\n      onFrame: springOnFrame,\\n      onStart: onStart,\\n      toValue: toValue,\\n      velocity: config.velocity || 0,\\n      current: toValue,\\n      startValue: 0,\\n      callback: callback,\\n      lastTimestamp: 0,\\n      startTimestamp: 0,\\n      zeta: 0,\\n      omega0: 0,\\n      omega1: 0\\n    };\\n  });\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/spring.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"withSpring\\\",\\\"toValue\\\",\\\"userConfig\\\",\\\"callback\\\",\\\"defineAnimation\\\",\\\"underDampedSpringCalculations\\\",\\\"criticallyDampedSpringCalculations\\\",\\\"isAnimationTerminatingCalculation\\\",\\\"calcuateNewMassToMatchDuration\\\",\\\"initialCalculations\\\",\\\"_closure\\\",\\\"defaultConfig\\\",\\\"damping\\\",\\\"mass\\\",\\\"stiffness\\\",\\\"overshootClamping\\\",\\\"restDisplacementThreshold\\\",\\\"restSpeedThreshold\\\",\\\"velocity\\\",\\\"duration\\\",\\\"dampingRatio\\\",\\\"config\\\",\\\"useDuration\\\",\\\"configIsInvalid\\\",\\\"some\\\",\\\"x\\\",\\\"console\\\",\\\"warn\\\",\\\"springOnFrame\\\",\\\"animation\\\",\\\"now\\\",\\\"startTimestamp\\\",\\\"current\\\",\\\"timeFromStart\\\",\\\"lastTimestamp\\\",\\\"deltaTime\\\",\\\"Math\\\",\\\"min\\\",\\\"t\\\",\\\"v0\\\",\\\"x0\\\",\\\"zeta\\\",\\\"omega0\\\",\\\"omega1\\\",\\\"position\\\",\\\"newPosition\\\",\\\"newVelocity\\\",\\\"isOvershooting\\\",\\\"isVelocity\\\",\\\"isDisplacement\\\",\\\"springIsNotInMove\\\",\\\"isTriggeredTwice\\\",\\\"previousAnimation\\\",\\\"onStart\\\",\\\"value\\\",\\\"startValue\\\",\\\"triggeredTwice\\\",\\\"Number\\\",\\\"acutalDuration\\\",\\\"onFrame\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/spring.js\\\"],\\\"mappings\\\":\\\"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\\\"}\"\n};\nvar _worklet_13647237086619_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    userConfig,\\n    underDampedSpringCalculations,\\n    criticallyDampedSpringCalculations,\\n    isAnimationTerminatingCalculation,\\n    calcuateNewMassToMatchDuration,\\n    initialCalculations,\\n    toValue,\\n    callback\\n  } = this._closure;\\n  const defaultConfig = {\\n    damping: 10,\\n    mass: 1,\\n    stiffness: 100,\\n    overshootClamping: false,\\n    restDisplacementThreshold: 0.01,\\n    restSpeedThreshold: 2,\\n    velocity: 0,\\n    duration: 2000,\\n    dampingRatio: 0.5\\n  };\\n  const config = {\\n    ...defaultConfig,\\n    ...userConfig,\\n    useDuration: !!(userConfig !== null && userConfig !== void 0 && userConfig.duration || userConfig !== null && userConfig !== void 0 && userConfig.dampingRatio),\\n    configIsInvalid: false\\n  };\\n  if ([config.stiffness, config.damping, config.duration, config.dampingRatio, config.restDisplacementThreshold, config.restSpeedThreshold].some(function (x) {\\n    return x <= 0;\\n  }) || config.mass === 0) {\\n    config.configIsInvalid = true;\\n    console.warn(\\\"You have provided invalid spring animation configuration! \\\\n Value of stiffness, damping, duration and damping ratio must be greater than zero, and mass can't equal zero.\\\");\\n  }\\n  function springOnFrame(animation, now) {\\n    const {\\n      toValue: toValue,\\n      startTimestamp: startTimestamp,\\n      current: current\\n    } = animation;\\n    const timeFromStart = now - startTimestamp;\\n    if (config.useDuration && timeFromStart >= config.duration) {\\n      animation.current = toValue;\\n      animation.lastTimestamp = 0;\\n      return true;\\n    }\\n    if (config.configIsInvalid) {\\n      if (config.useDuration) return false;else {\\n        animation.current = toValue;\\n        animation.lastTimestamp = 0;\\n        return true;\\n      }\\n    }\\n    const {\\n      lastTimestamp: lastTimestamp,\\n      velocity: velocity\\n    } = animation;\\n    const deltaTime = Math.min(now - lastTimestamp, 64);\\n    animation.lastTimestamp = now;\\n    const t = deltaTime / 1000;\\n    const v0 = -velocity;\\n    const x0 = toValue - current;\\n    const {\\n      zeta: zeta,\\n      omega0: omega0,\\n      omega1: omega1\\n    } = animation;\\n    const {\\n      position: newPosition,\\n      velocity: newVelocity\\n    } = zeta < 1 ? underDampedSpringCalculations(animation, {\\n      zeta: zeta,\\n      v0: v0,\\n      x0: x0,\\n      omega0: omega0,\\n      omega1: omega1,\\n      t: t\\n    }) : criticallyDampedSpringCalculations(animation, {\\n      v0: v0,\\n      x0: x0,\\n      omega0: omega0,\\n      t: t\\n    });\\n    animation.current = newPosition;\\n    animation.velocity = newVelocity;\\n    const {\\n      isOvershooting: isOvershooting,\\n      isVelocity: isVelocity,\\n      isDisplacement: isDisplacement\\n    } = isAnimationTerminatingCalculation(animation, config);\\n    const springIsNotInMove = isOvershooting || isVelocity && isDisplacement;\\n    if (!config.useDuration && springIsNotInMove) {\\n      animation.velocity = 0;\\n      animation.current = toValue;\\n      animation.lastTimestamp = 0;\\n      return true;\\n    }\\n    return false;\\n  }\\n  function isTriggeredTwice(previousAnimation, animation) {\\n    return (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.toValue) === animation.toValue && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.duration) === animation.duration && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.dampingRatio) === animation.dampingRatio;\\n  }\\n  function onStart(animation, value, now, previousAnimation) {\\n    animation.current = value;\\n    animation.startValue = value;\\n    let mass = config.mass;\\n    const triggeredTwice = isTriggeredTwice(previousAnimation, animation);\\n    const duration = config.duration;\\n    const x0 = triggeredTwice ? previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startValue : Number(animation.toValue) - value;\\n    if (previousAnimation) {\\n      animation.velocity = (triggeredTwice ? previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.velocity : (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.velocity) + config.velocity) || 0;\\n    } else {\\n      animation.velocity = config.velocity || 0;\\n    }\\n    if (triggeredTwice) {\\n      animation.zeta = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.zeta) || 0;\\n      animation.omega0 = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.omega0) || 0;\\n      animation.omega1 = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.omega1) || 0;\\n    } else {\\n      if (config.useDuration) {\\n        const acutalDuration = triggeredTwice ? duration - (((previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.lastTimestamp) || 0) - ((previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) || 0)) : duration;\\n        config.duration = acutalDuration;\\n        mass = calcuateNewMassToMatchDuration(x0, config, animation.velocity);\\n      }\\n      const {\\n        zeta: zeta,\\n        omega0: omega0,\\n        omega1: omega1\\n      } = initialCalculations(mass, config);\\n      animation.zeta = zeta;\\n      animation.omega0 = omega0;\\n      animation.omega1 = omega1;\\n    }\\n    animation.lastTimestamp = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.lastTimestamp) || now;\\n    animation.startTimestamp = triggeredTwice ? (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) || now : now;\\n  }\\n  return {\\n    onFrame: springOnFrame,\\n    onStart: onStart,\\n    toValue: toValue,\\n    velocity: config.velocity || 0,\\n    current: toValue,\\n    startValue: 0,\\n    callback: callback,\\n    lastTimestamp: 0,\\n    startTimestamp: 0,\\n    zeta: 0,\\n    omega0: 0,\\n    omega1: 0\\n  };\\n}\",\n  location: \"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/spring.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"userConfig\\\",\\\"underDampedSpringCalculations\\\",\\\"criticallyDampedSpringCalculations\\\",\\\"isAnimationTerminatingCalculation\\\",\\\"calcuateNewMassToMatchDuration\\\",\\\"initialCalculations\\\",\\\"toValue\\\",\\\"callback\\\",\\\"_closure\\\",\\\"defaultConfig\\\",\\\"damping\\\",\\\"mass\\\",\\\"stiffness\\\",\\\"overshootClamping\\\",\\\"restDisplacementThreshold\\\",\\\"restSpeedThreshold\\\",\\\"velocity\\\",\\\"duration\\\",\\\"dampingRatio\\\",\\\"config\\\",\\\"useDuration\\\",\\\"configIsInvalid\\\",\\\"some\\\",\\\"x\\\",\\\"console\\\",\\\"warn\\\",\\\"springOnFrame\\\",\\\"animation\\\",\\\"now\\\",\\\"startTimestamp\\\",\\\"current\\\",\\\"timeFromStart\\\",\\\"lastTimestamp\\\",\\\"deltaTime\\\",\\\"Math\\\",\\\"min\\\",\\\"t\\\",\\\"v0\\\",\\\"x0\\\",\\\"zeta\\\",\\\"omega0\\\",\\\"omega1\\\",\\\"position\\\",\\\"newPosition\\\",\\\"newVelocity\\\",\\\"isOvershooting\\\",\\\"isVelocity\\\",\\\"isDisplacement\\\",\\\"springIsNotInMove\\\",\\\"isTriggeredTwice\\\",\\\"previousAnimation\\\",\\\"onStart\\\",\\\"value\\\",\\\"startValue\\\",\\\"triggeredTwice\\\",\\\"Number\\\",\\\"acutalDuration\\\",\\\"onFrame\\\"],\\\"sources\\\":[\\\"/Users/Shoaib/Awesome/node_modules/react-native-reanimated/lib/module/reanimated2/animation/spring.js\\\"],\\\"mappings\\\":\\\"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\\\"}\"\n};\nexport var withSpring = function () {\n  var _e = [new global.Error(), -7, -27];\n\n  var _f = function _f(toValue, userConfig, callback) {\n    return defineAnimation(toValue, function () {\n      var _e = [new global.Error(), -9, -27];\n\n      var _f = function _f() {\n        var defaultConfig = {\n          damping: 10,\n          mass: 1,\n          stiffness: 100,\n          overshootClamping: false,\n          restDisplacementThreshold: 0.01,\n          restSpeedThreshold: 2,\n          velocity: 0,\n          duration: 2000,\n          dampingRatio: 0.5\n        };\n\n        var config = _objectSpread(_objectSpread(_objectSpread({}, defaultConfig), userConfig), {}, {\n          useDuration: !!(userConfig !== null && userConfig !== void 0 && userConfig.duration || userConfig !== null && userConfig !== void 0 && userConfig.dampingRatio),\n          configIsInvalid: false\n        });\n\n        if ([config.stiffness, config.damping, config.duration, config.dampingRatio, config.restDisplacementThreshold, config.restSpeedThreshold].some(function (x) {\n          return x <= 0;\n        }) || config.mass === 0) {\n          config.configIsInvalid = true;\n          console.warn(\"You have provided invalid spring animation configuration! \\n Value of stiffness, damping, duration and damping ratio must be greater than zero, and mass can't equal zero.\");\n        }\n\n        function springOnFrame(animation, now) {\n          var toValue = animation.toValue,\n              startTimestamp = animation.startTimestamp,\n              current = animation.current;\n          var timeFromStart = now - startTimestamp;\n\n          if (config.useDuration && timeFromStart >= config.duration) {\n            animation.current = toValue;\n            animation.lastTimestamp = 0;\n            return true;\n          }\n\n          if (config.configIsInvalid) {\n            if (config.useDuration) return false;else {\n              animation.current = toValue;\n              animation.lastTimestamp = 0;\n              return true;\n            }\n          }\n\n          var lastTimestamp = animation.lastTimestamp,\n              velocity = animation.velocity;\n          var deltaTime = Math.min(now - lastTimestamp, 64);\n          animation.lastTimestamp = now;\n          var t = deltaTime / 1000;\n          var v0 = -velocity;\n          var x0 = toValue - current;\n          var zeta = animation.zeta,\n              omega0 = animation.omega0,\n              omega1 = animation.omega1;\n\n          var _ref = zeta < 1 ? underDampedSpringCalculations(animation, {\n            zeta: zeta,\n            v0: v0,\n            x0: x0,\n            omega0: omega0,\n            omega1: omega1,\n            t: t\n          }) : criticallyDampedSpringCalculations(animation, {\n            v0: v0,\n            x0: x0,\n            omega0: omega0,\n            t: t\n          }),\n              newPosition = _ref.position,\n              newVelocity = _ref.velocity;\n\n          animation.current = newPosition;\n          animation.velocity = newVelocity;\n\n          var _isAnimationTerminati = isAnimationTerminatingCalculation(animation, config),\n              isOvershooting = _isAnimationTerminati.isOvershooting,\n              isVelocity = _isAnimationTerminati.isVelocity,\n              isDisplacement = _isAnimationTerminati.isDisplacement;\n\n          var springIsNotInMove = isOvershooting || isVelocity && isDisplacement;\n\n          if (!config.useDuration && springIsNotInMove) {\n            animation.velocity = 0;\n            animation.current = toValue;\n            animation.lastTimestamp = 0;\n            return true;\n          }\n\n          return false;\n        }\n\n        function isTriggeredTwice(previousAnimation, animation) {\n          return (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.toValue) === animation.toValue && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.duration) === animation.duration && (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.dampingRatio) === animation.dampingRatio;\n        }\n\n        function onStart(animation, value, now, previousAnimation) {\n          animation.current = value;\n          animation.startValue = value;\n          var mass = config.mass;\n          var triggeredTwice = isTriggeredTwice(previousAnimation, animation);\n          var duration = config.duration;\n          var x0 = triggeredTwice ? previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startValue : Number(animation.toValue) - value;\n\n          if (previousAnimation) {\n            animation.velocity = (triggeredTwice ? previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.velocity : (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.velocity) + config.velocity) || 0;\n          } else {\n            animation.velocity = config.velocity || 0;\n          }\n\n          if (triggeredTwice) {\n            animation.zeta = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.zeta) || 0;\n            animation.omega0 = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.omega0) || 0;\n            animation.omega1 = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.omega1) || 0;\n          } else {\n            if (config.useDuration) {\n              var acutalDuration = triggeredTwice ? duration - (((previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.lastTimestamp) || 0) - ((previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) || 0)) : duration;\n              config.duration = acutalDuration;\n              mass = calcuateNewMassToMatchDuration(x0, config, animation.velocity);\n            }\n\n            var _initialCalculations = initialCalculations(mass, config),\n                zeta = _initialCalculations.zeta,\n                omega0 = _initialCalculations.omega0,\n                omega1 = _initialCalculations.omega1;\n\n            animation.zeta = zeta;\n            animation.omega0 = omega0;\n            animation.omega1 = omega1;\n          }\n\n          animation.lastTimestamp = (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.lastTimestamp) || now;\n          animation.startTimestamp = triggeredTwice ? (previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.startTimestamp) || now : now;\n        }\n\n        return {\n          onFrame: springOnFrame,\n          onStart: onStart,\n          toValue: toValue,\n          velocity: config.velocity || 0,\n          current: toValue,\n          startValue: 0,\n          callback: callback,\n          lastTimestamp: 0,\n          startTimestamp: 0,\n          zeta: 0,\n          omega0: 0,\n          omega1: 0\n        };\n      };\n\n      _f._closure = {\n        userConfig: userConfig,\n        underDampedSpringCalculations: underDampedSpringCalculations,\n        criticallyDampedSpringCalculations: criticallyDampedSpringCalculations,\n        isAnimationTerminatingCalculation: isAnimationTerminatingCalculation,\n        calcuateNewMassToMatchDuration: calcuateNewMassToMatchDuration,\n        initialCalculations: initialCalculations,\n        toValue: toValue,\n        callback: callback\n      };\n      _f.__initData = _worklet_13647237086619_init_data;\n      _f.__workletHash = 13647237086619;\n      _f.__stackDetails = _e;\n      _f.__version = \"3.3.0\";\n      return _f;\n    }());\n  };\n\n  _f._closure = {\n    defineAnimation: defineAnimation,\n    underDampedSpringCalculations: underDampedSpringCalculations,\n    criticallyDampedSpringCalculations: criticallyDampedSpringCalculations,\n    isAnimationTerminatingCalculation: isAnimationTerminatingCalculation,\n    calcuateNewMassToMatchDuration: calcuateNewMassToMatchDuration,\n    initialCalculations: initialCalculations\n  };\n  _f.__initData = _worklet_3329358150165_init_data;\n  _f.__workletHash = 3329358150165;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();","map":{"version":3,"sources":["spring.ts"],"names":["defineAnimation","initialCalculations","calcuateNewMassToMatchDuration","underDampedSpringCalculations","criticallyDampedSpringCalculations","isAnimationTerminatingCalculation","withSpring","toValue","userConfig","callback","defaultConfig","damping","mass","stiffness","overshootClamping","restDisplacementThreshold","restSpeedThreshold","velocity","duration","dampingRatio","config","useDuration","configIsInvalid","some","x","console","warn","springOnFrame","animation","now","startTimestamp","current","timeFromStart","lastTimestamp","deltaTime","Math","min","t","v0","x0","zeta","omega0","omega1","position","newPosition","newVelocity","isOvershooting","isVelocity","isDisplacement","springIsNotInMove","isTriggeredTwice","previousAnimation","onStart","value","startValue","triggeredTwice","Number","acutalDuration","onFrame"],"mappings":"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","sourcesContent":["import { defineAnimation } from './util';\nimport {\n  Animation,\n  AnimationCallback,\n  AnimatableValue,\n  Timestamp,\n} from '../commonTypes';\nimport {\n  SpringConfig,\n  initialCalculations,\n  calcuateNewMassToMatchDuration,\n  SpringAnimation,\n  InnerSpringAnimation,\n  underDampedSpringCalculations,\n  criticallyDampedSpringCalculations,\n  isAnimationTerminatingCalculation,\n  SpringConfigInner,\n} from './springUtils';\n\nexport function withSpring(\n  toValue: AnimatableValue,\n  userConfig?: SpringConfig,\n  callback?: AnimationCallback\n): Animation<SpringAnimation> {\n  'worklet';\n\n  return defineAnimation<SpringAnimation>(toValue, () => {\n    'worklet';\n    const defaultConfig: Record<keyof SpringConfig, any> = {\n      damping: 10,\n      mass: 1,\n      stiffness: 100,\n      overshootClamping: false,\n      restDisplacementThreshold: 0.01,\n      restSpeedThreshold: 2,\n      velocity: 0,\n      duration: 2000,\n      dampingRatio: 0.5,\n    } as const;\n\n    const config: Record<keyof SpringConfig, any> & SpringConfigInner = {\n      ...defaultConfig,\n      ...userConfig,\n      useDuration: !!(userConfig?.duration || userConfig?.dampingRatio),\n      configIsInvalid: false,\n    };\n\n    if (\n      [\n        config.stiffness,\n        config.damping,\n        config.duration,\n        config.dampingRatio,\n        config.restDisplacementThreshold,\n        config.restSpeedThreshold,\n      ].some((x) => x <= 0) ||\n      config.mass === 0\n    ) {\n      config.configIsInvalid = true;\n      console.warn(\n        \"You have provided invalid spring animation configuration! \\n Value of stiffness, damping, duration and damping ratio must be greater than zero, and mass can't equal zero.\"\n      );\n    }\n\n    function springOnFrame(\n      animation: InnerSpringAnimation,\n      now: Timestamp\n    ): boolean {\n      const { toValue, startTimestamp, current } = animation;\n\n      const timeFromStart = now - startTimestamp;\n\n      if (config.useDuration && timeFromStart >= config.duration) {\n        animation.current = toValue;\n\n        // clear lastTimestamp to avoid using stale value by the next spring animation that starts after this one\n        animation.lastTimestamp = 0;\n        return true;\n      }\n\n      if (config.configIsInvalid) {\n        // We don't animate wrong config\n        if (config.useDuration) return false;\n        else {\n          animation.current = toValue;\n          animation.lastTimestamp = 0;\n          return true;\n        }\n      }\n      const { lastTimestamp, velocity } = animation;\n\n      const deltaTime = Math.min(now - lastTimestamp, 64);\n      animation.lastTimestamp = now;\n\n      const t = deltaTime / 1000;\n      const v0 = -velocity;\n      const x0 = toValue - current;\n\n      const { zeta, omega0, omega1 } = animation;\n\n      const { position: newPosition, velocity: newVelocity } =\n        zeta < 1\n          ? underDampedSpringCalculations(animation, {\n              zeta,\n              v0,\n              x0,\n              omega0,\n              omega1,\n              t,\n            })\n          : criticallyDampedSpringCalculations(animation, {\n              v0,\n              x0,\n              omega0,\n              t,\n            });\n\n      animation.current = newPosition;\n      animation.velocity = newVelocity;\n\n      const { isOvershooting, isVelocity, isDisplacement } =\n        isAnimationTerminatingCalculation(animation, config);\n\n      const springIsNotInMove =\n        isOvershooting || (isVelocity && isDisplacement);\n\n      if (!config.useDuration && springIsNotInMove) {\n        animation.velocity = 0;\n        animation.current = toValue;\n        // clear lastTimestamp to avoid using stale value by the next spring animation that starts after this one\n        animation.lastTimestamp = 0;\n        return true;\n      }\n\n      return false;\n    }\n\n    function isTriggeredTwice(\n      previousAnimation: SpringAnimation | undefined,\n      animation: SpringAnimation\n    ) {\n      return (\n        previousAnimation?.startTimestamp &&\n        previousAnimation?.toValue === animation.toValue &&\n        previousAnimation?.duration === animation.duration &&\n        previousAnimation?.dampingRatio === animation.dampingRatio\n      );\n    }\n\n    function onStart(\n      animation: SpringAnimation,\n      value: number,\n      now: Timestamp,\n      previousAnimation: SpringAnimation | undefined\n    ): void {\n      animation.current = value;\n      animation.startValue = value;\n\n      let mass = config.mass;\n      const triggeredTwice = isTriggeredTwice(previousAnimation, animation);\n\n      const duration = config.duration;\n\n      const x0 = triggeredTwice\n        ? // If animation is triggered twice we want to continue the previous animation\n          // form the previous starting point\n          (previousAnimation?.startValue as number)\n        : Number(animation.toValue) - value;\n\n      if (previousAnimation) {\n        animation.velocity =\n          (triggeredTwice\n            ? previousAnimation?.velocity\n            : previousAnimation?.velocity + config.velocity) || 0;\n      } else {\n        animation.velocity = config.velocity || 0;\n      }\n\n      if (triggeredTwice) {\n        animation.zeta = previousAnimation?.zeta || 0;\n        animation.omega0 = previousAnimation?.omega0 || 0;\n        animation.omega1 = previousAnimation?.omega1 || 0;\n      } else {\n        if (config.useDuration) {\n          const acutalDuration = triggeredTwice\n            ? // If animation is triggered twice we want to continue the previous animation\n              // so we need to include the time that already elapsed\n              duration -\n              ((previousAnimation?.lastTimestamp || 0) -\n                (previousAnimation?.startTimestamp || 0))\n            : duration;\n\n          config.duration = acutalDuration;\n          mass = calcuateNewMassToMatchDuration(x0, config, animation.velocity);\n        }\n\n        const { zeta, omega0, omega1 } = initialCalculations(mass, config);\n        animation.zeta = zeta;\n        animation.omega0 = omega0;\n        animation.omega1 = omega1;\n      }\n\n      animation.lastTimestamp = previousAnimation?.lastTimestamp || now;\n\n      animation.startTimestamp = triggeredTwice\n        ? previousAnimation?.startTimestamp || now\n        : now;\n    }\n\n    return {\n      onFrame: springOnFrame,\n      onStart,\n      toValue,\n      velocity: config.velocity || 0,\n      current: toValue,\n      startValue: 0,\n      callback,\n      lastTimestamp: 0,\n      startTimestamp: 0,\n      zeta: 0,\n      omega0: 0,\n      omega1: 0,\n    } as SpringAnimation;\n  });\n}\n"]},"metadata":{},"sourceType":"module"}