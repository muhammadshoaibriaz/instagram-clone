{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { debounce } from \"lodash\";\nimport React, { Component, useCallback, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { TextInput } from \"react-native-gesture-handler\";\nimport { MagnifyingGlassIcon } from \"react-native-heroicons/outline\";\nimport { img342, searchMovies } from \"../api/moviesDb\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Search() {\n  var navigation = useNavigation();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      movies = _useState2[0],\n      setMovies = _useState2[1];\n\n  var handleSearch = function handleSearch(value) {\n    if (value && value.length > 2) {\n      searchMovies({\n        query: value,\n        language: \"en-US\"\n      }).then(function (data) {\n        if (data && data.results) {\n          setMovies(data.results);\n          console.log(data.results);\n        } else {\n          alert(\"No results found\");\n        }\n      });\n    } else if (value.length <= 0) {\n      setMovies(\"\");\n    }\n  };\n\n  var handleSearchDebounce = useCallback(debounce(handleSearch, 400), []);\n  return _jsxs(ScrollView, {\n    style: {},\n    children: [_jsxs(SafeAreaView, {\n      style: {\n        height: 50,\n        width: \"90%\",\n        alignSelf: \"center\",\n        marginTop: 30,\n        flexDirection: \"row\",\n        paddingHorizontal: 14,\n        borderRadius: 40,\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        backgroundColor: \"#fff\"\n      },\n      children: [_jsx(TextInput, {\n        placeholder: \"Search by name...\",\n        onChangeText: handleSearchDebounce,\n        style: styles.inputArea\n      }), _jsx(TouchableOpacity, {\n        style: {\n          width: 30,\n          height: 30,\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        children: _jsx(MagnifyingGlassIcon, {\n          size: 24,\n          color: \"#999\",\n          strokeWidth: 2\n        })\n      })]\n    }), (movies == null ? void 0 : movies.length) <= 0 ? \"\" : _jsxs(Text, {\n      style: {\n        fontWeight: \"800\",\n        marginHorizontal: 20,\n        fontSize: 16,\n        marginTop: 10\n      },\n      children: [\"Results (\", movies.length, \")\"]\n    }), _jsx(FlatList, {\n      data: movies,\n      style: {\n        marginTop: 10\n      },\n      contentContainerStyle: {\n        paddingHorizontal: 20,\n        flexDirection: \"row\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\"\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item,\n            index = _ref.index;\n        return _jsxs(TouchableOpacity, {\n          style: {\n            width: 150,\n            height: 224,\n            marginBottom: 10\n          },\n          onPress: function onPress() {\n            return navigation.push(\"Movie\", {\n              item: item\n            });\n          },\n          children: [_jsx(Image, {\n            source: {\n              uri: img342(item == null ? void 0 : item.poster_path)\n            },\n            style: {\n              width: 150,\n              height: 200,\n              borderRadius: 10\n            }\n          }), _jsx(Text, {\n            style: {\n              marginTop: 3,\n              fontSize: 15,\n              fontWeight: \"600\",\n              marginBottom: 10\n            },\n            children: (item == null ? void 0 : item.title.length) > 19 ? (item == null ? void 0 : item.title.slice(0, 19)) + \"...\" : item == null ? void 0 : item.title\n          })]\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  inputArea: {\n    height: 40,\n    borderRadius: 40,\n    flex: 1\n  }\n});","map":{"version":3,"names":["useNavigation","debounce","React","Component","useCallback","useState","TextInput","MagnifyingGlassIcon","img342","searchMovies","Search","navigation","movies","setMovies","handleSearch","value","length","query","language","then","data","results","console","log","alert","handleSearchDebounce","height","width","alignSelf","marginTop","flexDirection","paddingHorizontal","borderRadius","alignItems","justifyContent","backgroundColor","styles","inputArea","fontWeight","marginHorizontal","fontSize","flexWrap","item","index","marginBottom","push","uri","poster_path","title","slice","StyleSheet","create","flex"],"sources":["/Users/Shoaib/Awesome/components/pages/Search.js"],"sourcesContent":["import { useNavigation } from \"@react-navigation/native\";\nimport { debounce } from \"lodash\";\nimport React, { Component, useCallback, useState } from \"react\";\nimport {\n  FlatList,\n  SafeAreaView,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n  Image,\n} from \"react-native\";\nimport { TextInput } from \"react-native-gesture-handler\";\nimport { MagnifyingGlassIcon } from \"react-native-heroicons/outline\";\nimport { img342, searchMovies } from \"../api/moviesDb\";\n\nexport default function Search() {\n  const navigation = useNavigation();\n  const [movies, setMovies] = useState([]);\n  const handleSearch = (value) => {\n    if (value && value.length > 2) {\n      searchMovies({\n        query: value,\n        language: \"en-US\",\n      }).then((data) => {\n        if (data && data.results) {\n          setMovies(data.results);\n          console.log(data.results);\n        } else {\n          alert(\"No results found\");\n        }\n      });\n    } else if (value.length <= 0) {\n      setMovies(\"\");\n    }\n  };\n  const handleSearchDebounce = useCallback(debounce(handleSearch, 400), []);\n  return (\n    <ScrollView style={{}}>\n      <SafeAreaView\n        style={{\n          height: 50,\n          width: \"90%\",\n          alignSelf: \"center\",\n          marginTop: 30,\n          flexDirection: \"row\",\n          paddingHorizontal: 14,\n          borderRadius: 40,\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          backgroundColor: \"#fff\",\n        }}\n      >\n        <TextInput\n          placeholder=\"Search by name...\"\n          onChangeText={handleSearchDebounce}\n          style={styles.inputArea}\n        />\n        <TouchableOpacity\n          style={{\n            width: 30,\n            height: 30,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <MagnifyingGlassIcon size={24} color=\"#999\" strokeWidth={2} />\n        </TouchableOpacity>\n      </SafeAreaView>\n\n      {movies?.length <= 0 ? (\n        \"\"\n      ) : (\n        <Text\n          style={{\n            fontWeight: \"800\",\n            marginHorizontal: 20,\n            fontSize: 16,\n            marginTop: 10,\n          }}\n        >\n          Results ({movies.length})\n        </Text>\n      )}\n      <FlatList\n        data={movies}\n        style={{ marginTop: 10 }}\n        contentContainerStyle={{\n          paddingHorizontal: 20,\n          flexDirection: \"row\",\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\",\n        }}\n        renderItem={({ item, index }) => {\n          return (\n            <TouchableOpacity\n              style={{\n                width: 150,\n                height: 224,\n                marginBottom: 10,\n              }}\n              onPress={() => navigation.push(\"Movie\", { item })}\n            >\n              <Image\n                // source={require(\"../../images/img1.jpg\")}\n                source={{ uri: img342(item?.poster_path) }}\n                style={{\n                  width: 150,\n                  height: 200,\n                  borderRadius: 10,\n                }}\n              />\n              <Text\n                style={{\n                  marginTop: 3,\n                  fontSize: 15,\n                  fontWeight: \"600\",\n                  marginBottom: 10,\n                }}\n              >\n                {item?.title.length > 19\n                  ? item?.title.slice(0, 19) + \"...\"\n                  : item?.title}\n              </Text>\n            </TouchableOpacity>\n          );\n        }}\n      />\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  inputArea: {\n    height: 40,\n    borderRadius: 40,\n    flex: 1,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}